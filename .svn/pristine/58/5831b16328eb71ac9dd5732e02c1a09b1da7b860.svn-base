//
//  ProductCell.m
//  YuanXin_Project
//
//  Created by Yuanin on 16/4/20.
//  Copyright © 2016年 yuanxin. All rights reserved.
//

#import "ProductCell.h"

@implementation ProductCell

- (void)awakeFromNib {
    [super awakeFromNib];
    
    self.separatorInset = UIEdgeInsetsZero;
    if ([self respondsToSelector:@selector(layoutMargins)]) {
        self.layoutMargins = UIEdgeInsetsZero;
    }
}

//- (void)setHighlighted:(BOOL)highlighted animated:(BOOL)animated {
//    [super setHighlighted:highlighted animated:animated];
//    
////    for (UIView *view in self.contentView.subviews) {
////        view.backgroundColor = highlighted ? Cell_Highlight : [UIColor whiteColor];
////    }
//}
- (void)setHighlighted:(BOOL)highlighted animated:(BOOL)animated {
    [super setHighlighted:highlighted animated:animated];
    
    self.contentView.backgroundColor = highlighted ? Cell_Highlight : [UIColor clearColor];
}

- (void)loadInterfactInfoWithProductInfo:(ProductInfo *)aInfo {
    
    self.productName.text     = aInfo.productName;
//    self.replyMethod.text     = aInfo.replyMethod;
//    self.guaranteeMethod.text = aInfo.guaranteeMethod;
    self.annualInterestLB.text  = [NSString stringWithFormat:@"%.2f",[aInfo.annualInterest floatValue]] ;
    self.timeLB.text      = [aInfo theTermOfProduct];
    
    
    NSMutableAttributedString *noteStr = [[NSMutableAttributedString alloc] initWithString:[aInfo theTermOfProduct]];
    NSRange redRange = NSMakeRange([[noteStr string] rangeOfString:aInfo.term].location, [[noteStr string] rangeOfString:aInfo.term].length);
    [noteStr addAttribute:NSFontAttributeName value:[UIFont systemFontOfSize:17.0] range:redRange];
    
    
    [self.timeLB setAttributedText:noteStr];
    [self.timeLB sizeToFit];
    
//    self.moneyLB.text     = [aInfo theRestOfShare];
    self.purchase.enabled     = aInfo.canBuy;
    if (aInfo.canBuy) {
        [self.purchase setBackgroundImage:[UIImage imageNamed:@"anniu_red"] forState:UIControlStateNormal];
    }else{
          [self.purchase setBackgroundImage:[UIImage imageNamed:@"anniu_hui"] forState:UIControlStateNormal];
    }
    [self.purchase setTitle:aInfo.productState forState:UIControlStateNormal];
}

//- (IBAction)buyProduct {
//    
//    if (self.purchaseProduct) {
//        self.purchaseProduct();
//    }
//}
- (IBAction)btnClicked:(UIButton *)sender {
        if (self.purchaseProduct) {
            self.purchaseProduct();
        }
}

@end
